(function(e){function t(t){for(var a,r,c=t[0],i=t[1],s=t[2],f=0,p=[];f<c.length;f++)r=c[f],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(p.length)p.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o={app:0},u=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-08b7be22":"c2268928","chunk-08f4cb69":"1705c1ea","chunk-14f76411":"26f03d36","chunk-2c93c8c5":"7e4cb00d","chunk-328a469c":"ee9265a4","chunk-5202fd1a":"7d3bcdd8","chunk-5fd909f4":"af6bf46c","chunk-9958893a":"6047d5cd","chunk-c8691754":"f2ff0f79"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-08b7be22":1,"chunk-08f4cb69":1,"chunk-14f76411":1,"chunk-2c93c8c5":1,"chunk-328a469c":1,"chunk-5202fd1a":1,"chunk-5fd909f4":1,"chunk-9958893a":1,"chunk-c8691754":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-08b7be22":"38eb8ee3","chunk-08f4cb69":"4fa690a7","chunk-14f76411":"0a098ab1","chunk-2c93c8c5":"0c7582f1","chunk-328a469c":"ef9a1c2a","chunk-5202fd1a":"419bfe0f","chunk-5fd909f4":"32522764","chunk-9958893a":"1136e526","chunk-c8691754":"fbaf5604"}[e]+".css",o=i.p+a,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var s=u[c],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===a||f===o))return t()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){s=p[c],f=s.getAttribute("data-href");if(f===a||f===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=a,delete r[e],l.parentNode.removeChild(l),n(u)},l.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(l)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var u=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=u);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=c(e);var p=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",p.name="ChunkLoadError",p.type=a,p.request=r,n[1](p)}o[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var l=f;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},2:function(e,t){},2395:function(e,t,n){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],u={name:"App",data:function(){return{}}},c=u,i=(n("7c55"),n("2877")),s=Object(i["a"])(c,r,o,!1,null,null,null),f=s.exports,p=(n("d3b7"),n("ac1f"),n("1276"),n("8c4f")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin-login"},[n("div",{staticClass:"warp"},[n("h1",[e._v("教务管理系统")]),n("el-form",{ref:"submitForm",attrs:{model:e.formData,rules:e.rules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{placeholder:"用户名"},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),n("el-form-item",[n("el-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:function(t){return e.submitLogin("submitForm")}}},[e._v("登录")])],1)],1),e._m(0)],1),n("div",{class:["mask",{none:e.isShow}]}),n("div",{class:["verify",{none:e.isShow}]},[n("h3",[n("span",[e._v("请输入正确的验证码：")]),n("i",{staticClass:"el-icon-circle-close",on:{click:e.close}})]),n("div",{staticClass:"content"},[n("label",{attrs:{for:"code"}},[e._v("验证码：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inpCode,expression:"inpCode"}],attrs:{type:"text",name:"",id:"code",placeholder:"请输入验证码"},domProps:{value:e.inpCode},on:{input:function(t){t.target.composing||(e.inpCode=t.target.value)}}}),n("span",[e._v(e._s(e.spanCode))]),n("a",{attrs:{href:"javascript:;"},on:{click:e.changeCode}},[e._v("看不清")]),n("p",[n("el-button",{staticClass:"go",attrs:{type:"primary",round:""},on:{click:e.success}},[e._v("确定")]),n("el-button",{staticClass:"out",attrs:{type:"danger",round:""},on:{click:e.close}},[e._v("取消")])],1)])])])},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-tip"},[n("p",[e._v("温馨提示")]),n("p",[e._v("未登录过的新用户，自动注册")]),n("p",[e._v("注册过的用户可凭账号密码登录")])])}],h=(n("25f0"),n("3452")),m=n.n(h),b=function(){function e(e,t){return parseInt(Math.random()*(t-e+1))+e}function t(t){for(var n="",a=0;a<t;a++){var r=e(48,122);if(r>57&&r<65||r>90&&r<97)a--;else{var o=String.fromCharCode(r);n+=o}}return n}return t(6)},v=b,k={components:{},data:function(){return{formData:{username:"",password:""},rules:{username:[{required:!0,message:"输入用户名有误",trigger:"blur"}],password:[{required:!0,message:"输入密码不能为空",trigger:"blur"}]},isShow:!0,spanCode:"",inpCode:""}},computed:{},watch:{},methods:{submitLogin:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var n=t.formData.username,a=t.formData.password;a=m.a.HmacSHA1(a,"Key").toString(),t.$http.post("http://linweiqin.cn:8001/admin/login",{user_name:n,password:a}).then((function(e){1===e.status&&"注册管理员成功"===e.success?alert("注册管理员成功~"):1===e.status&&"登录成功"===e.success?t.isShow=!1:0===e.status&&t.$message.error("该用户已存在，密码输入错误")}))}}))},changeCode:function(){this.spanCode=v()},close:function(){this.isShow=!0,this.inpCode=""},success:function(){this.inpCode==this.spanCode?(this.inpCode="",this.$store.commit("LOGIN",1),document.cookie="username = "+this.formData.username,this.$router.push("layout")):(this.$message.error("验证码错误，请重新输入"),this.inpCode="",this.spanCode=v())}},created:function(){function e(e){for(var t="",n=document.cookie.split("; "),a=0;a<n.length;a++){var r=n[a].split("=");r[0]===e&&(t=r[1])}return t}function t(e,t,n){if(n){var a=new Date;a.setTime(a.getTime()-288e5+1e3*n),document.cookie=e+"="+t+";expires="+a}else document.cookie=e+"="+t}e("username")&&(this.$message({message:"退出成功",type:"success"}),this.$store.commit("LOGOUT",0),t("username","",-1))},mounted:function(){this.spanCode=v()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},y=k,g=(n("818d"),Object(i["a"])(y,l,d,!1,null,"ca4db598",null)),w=g.exports;a["default"].use(p["a"]);var x=p["a"].prototype.push;p["a"].prototype.push=function(e){return x.call(this,e).catch((function(){}))};var C=[{path:"/",name:"Login",component:w},{path:"/layout",name:"Layout",component:function(){return n.e("chunk-9958893a").then(n.bind(null,"ebad"))},children:[{path:"",name:"Home",component:function(){return n.e("chunk-c8691754").then(n.bind(null,"57da"))}},{path:"/grademana",name:"grademana",component:function(){return n.e("chunk-14f76411").then(n.bind(null,"b7a5"))},meta:[{text:"教务系统",key:1,path:"/Layout"},{text:"等级考试",key:2,path:"/grademana"},{text:"成绩管理",key:3,path:"grademana"}]},{path:"/release",name:"release",component:function(){return n.e("chunk-2c93c8c5").then(n.bind(null,"cb99"))},meta:[{text:"教务系统",key:1,path:"/Layout"},{text:"等级考试",key:2,path:"/release"},{text:"考试发布",key:3,path:"release"}]},{path:"/rebuild",name:"Rebuild",component:function(){return n.e("chunk-08f4cb69").then(n.bind(null,"e24e"))},meta:[{text:"教务系统",key:1,path:"/Layout"},{text:"免修重修",key:2,path:"/rebuild"},{text:"重修名单",key:3,path:"rebuild"}]},{path:"/audit",name:"Audit",component:function(){return n.e("chunk-5fd909f4").then(n.bind(null,"5fb3"))},meta:[{text:"教务系统",key:1,path:"/Layout"},{text:"等级考试",key:2,path:"/audit"},{text:"报名审核",key:3,path:"audit"}]},{path:"/applyFor",name:"ApplyFor",component:function(){return n.e("chunk-5202fd1a").then(n.bind(null,"9830"))},meta:[{text:"教务系统",key:1,path:"/Layout"},{text:"免修重修",key:2,path:"/applyFor"},{text:"免修申请",key:3,path:"applyFor"}]},{path:"/registration",name:"registration",component:function(){return n.e("chunk-08b7be22").then(n.bind(null,"9eb3"))},meta:[{text:"教务系统",key:1,path:"/Layout"},{text:"等级考试",key:2,path:"/registration"},{text:"网上报名",key:3,path:"registration"}]},{path:"/uda",name:"uda",component:function(){return n.e("chunk-328a469c").then(n.bind(null,"4039"))},meta:[{text:"教务系统",key:1,path:"/Layout"},{text:"免修重修",key:2,path:"/uda"},{text:"免修审核",key:3,path:"uda"}]}]}],_=new p["a"]({mode:"history",base:"",routes:C});function L(e){for(var t="",n=document.cookie.split("; "),a=0;a<n.length;a++){var r=n[a].split("=");r[0]===e&&(t=r[1])}return t}_.beforeEach((function(e,t,n){var a=L("username");a||"/"===e.path?n():n("/")}));var O=_,S=n("2f62");a["default"].use(S["a"]);var j=new S["a"].Store({state:{status:0},mutations:{LOGIN:function(e,t){e.status=t},LOGOUT:function(e,t){e.status=t}},actions:{},modules:{},getters:{}}),D=n("bc3a"),$=n.n(D),E=$.a.create({baseURL:"http://rap2api.taobao.org/app/mock/276605"});E.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var P=E,T=n("5c96"),A=n.n(T);n("0fae");a["default"].prototype.$http=P,a["default"].config.productionTip=!1,a["default"].use(A.a),new a["default"]({router:O,store:j,render:function(e){return e(f)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},7463:function(e,t,n){},"7c55":function(e,t,n){"use strict";n("2395")},8:function(e,t){},"818d":function(e,t,n){"use strict";n("7463")},9:function(e,t){}});